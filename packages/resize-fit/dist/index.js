"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});class b{constructor({container:o,target:d,mode:n="fill"}){this.childElement={width:0,height:0},this.resizeObserver=new ResizeObserver(f=>{f.forEach(y=>{let{offsetWidth:e,offsetHeight:i}=this.container,t=0,s=0,h=0;if(!this.childElement.width||!this.childElement.height){let{offsetWidth:a,offsetHeight:c}=this.target;this.childElement.width=a,this.childElement.height=c}let{width:l,height:r}=this.childElement;switch(this.mode){case"fill":let a=e/l,c=i/r;this.target.style.transform=`matrix(${a}, 0, 0, ${c}, 0, 0)`;break;case"contain":let g=e/i,m=l/r;g<m?(t=e/l,h=Math.abs(i-r*t)/2):(t=i/r,s=Math.abs(e-l*t)/2),this.target.style.transform=`matrix(1, 0, 0, 1, ${s}, ${h}) scale(${t})`;break;case"fitWidth":t=e/this.childElement.width,this.target.style.transform=`matrix(1, 0, 0, 1, ${s}, ${h}) scale(${t})`;break;case"fitWidthExtendHeight":t=e/this.childElement.width,this.target.style.transform=`matrix(1, 0, 0, 1, ${s}, ${h}) scale(${t})`,this.target.style.height=`${i/t}px`;break;case"fitHeight":t=i/r,this.target.style.transform=`matrix(1, 0, 0, 1, ${s}, ${h}) scale(${t})`;break}})}),this.container=o,this.container.style.position="relative",this.target=d,this.target.style.position="absolute",this.target.style.transformOrigin="0 0",this.mode=n,this.resizeObserver.observe(o)}dispose(){this.resizeObserver.unobserve(this.container)}}exports.ResizeFit=b;
